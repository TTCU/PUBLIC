/*! TTCU chat widget, safe-min */
!function(){"use strict";var C=window.__ttcuChatConfig||{},S={built:!1,open:!1,url:C.url||"https://example.com/chat"},D={title:C.title||"Web Chat",position:"left"===C.position?"left":"right",width:C.width||360,height:C.height||520,maxWidth:C.maxWidth||420,maxHeight:C.maxHeight||680,zIndex:C.zIndex||2147483647,launcher:!1!==C.launcher,headerHeight:44,cornerRadius:14,gap:16};function byId(id){return document.getElementById(id)}function css(){var side=D.position;return":root{--ttcu-chat-width:"+D.width+"px;--ttcu-chat-height:"+D.height+"px;--ttcu-chat-radius:"+D.cornerRadius+"px;--ttcu-chat-shadow:0 12px 32px rgba(0,0,0,.22);--ttcu-chat-border:1px solid rgba(0,0,0,.08);--ttcu-gap:"+D.gap+"px;--ttcu-header-h:"+D.headerHeight+"px}#ttcuChatLauncher{position:fixed;"+side+":var(--ttcu-gap);bottom:var(--ttcu-gap);width:56px;height:56px;border:0;border-radius:50%;background:#0f6cf2;color:#fff;box-shadow:var(--ttcu-chat-shadow);cursor:pointer;z-index:"+(D.zIndex-1)+";display:flex;align-items:center;justify-content:center;font-size:22px}#ttcuChatPanel{position:fixed;"+side+":var(--ttcu-gap);bottom:calc(var(--ttcu-gap) + 64px);width:var(--ttcu-chat-width);height:var(--ttcu-chat-height);max-width:min(95vw,"+D.maxWidth+"px);max-height:min(80vh,"+D.maxHeight+"px);background:#fff;border:var(--ttcu-chat-border);border-radius:var(--ttcu-chat-radius);box-shadow:var(--ttcu-chat-shadow);overflow:hidden;transform:translateY(16px);opacity:0;pointer-events:none;transition:transform .2s ease,opacity .2s ease;z-index:"+D.zIndex+"}#ttcuChatPanel.open{transform:translateY(0);opacity:1;pointer-events:auto}#ttcuChatHeader{height:var(--ttcu-header-h);display:flex;align-items:center;justify-content:space-between;padding:0 10px 0 12px;border-bottom:1px solid rgba(0,0,0,.06);background:linear-gradient(0deg,#fff,#fafafa);font:600 14px/1.2 system-ui,-apple-system,Segoe UI,Roboto,Arial;color:#1f2937}#ttcuChatHeader .actions{display:flex;gap:4px}#ttcuChatHeader button{width:28px;height:28px;border:0;border-radius:8px;background:transparent;cursor:pointer;font-size:16px;color:#4b5563}#ttcuChatHeader button:hover{background:rgba(15,108,242,.08);color:#0f6cf2}#ttcuChatFrame{width:100%;height:calc(100% - var(--ttcu-header-h));border:0;display:block;background:#fff}@media (max-width:640px){#ttcuChatLauncher{"+side+":max(var(--ttcu-gap),env(safe-area-inset-"+side+"));bottom:max(var(--ttcu-gap),env(safe-area-inset-bottom))}#ttcuChatPanel{"+side+":max(var(--ttcu-gap),env(safe-area-inset-"+side+"));"+("right"===side?"left:max(var(--ttcu-gap),env(safe-area-inset-left));":"right:max(var(--ttcu-gap),env(safe-area-inset-right));")+"width:auto;height:min(75vh,"+D.maxHeight+"px);bottom:calc(max(var(--ttcu-gap),env(safe-area-inset-bottom)) + 64px)}}" }function injectStyles(){if(byId("ttcu-chat-styles"))return;var s=document.createElement("style");s.id="ttcu-chat-styles",s.textContent=css(),document.head.appendChild(s)}function build(){if(S.built)return;injectStyles();if(D.launcher&&!byId("ttcuChatLauncher")){var btn=document.createElement("button");btn.id="ttcuChatLauncher",btn.title="Chat",btn.setAttribute("aria-label","Open chat"),btn.innerHTML='<svg width="26" height="26" viewBox="0 0 24 24" aria-hidden="true"><path fill="currentColor" d="M20 2H4a2 2 0 0 0-2 2v18l4-4h14a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2Z"/></svg>',btn.addEventListener("click",toggle),document.body.appendChild(btn)}if(!byId("ttcuChatPanel")){var panel=document.createElement("div");panel.id="ttcuChatPanel",panel.setAttribute("role","dialog"),panel.setAttribute("aria-modal","false");var header=document.createElement("div");header.id="ttcuChatHeader",header.innerHTML='<div id="ttcuChatTitle"></div><div class="actions"><button id="ttcuChatMin" title="Minimize" aria-label="Minimize">▾</button><button id="ttcuChatClose" title="Close" aria-label="Close">✕</button></div>';var frame=document.createElement("iframe");frame.id="ttcuChatFrame",frame.src=S.url,panel.appendChild(header),panel.appendChild(frame),document.body.appendChild(panel),byId("ttcuChatTitle").textContent=D.title,byId("ttcuChatClose").addEventListener("click",close),byId("ttcuChatMin").addEventListener("click",toggle),document.addEventListener("keydown",(function(e){"Escape"===e.key&&close()}))}S.built=!0}function open(){build();var p=byId("ttcuChatPanel");p&&(p.classList.add("open"),S.open=!0)}function close(){var p=byId("ttcuChatPanel");p&&(p.classList.remove("open"),S.open=!1)}function toggle(){S.built&&S.open?close():open()}function setUrl(u){S.url=u;var f=byId("ttcuChatFrame");f&&(f.src=u)}(function(){var s=document.currentScript||function(){var a=document.getElementsByTagName("script");return a[a.length-1]}(),src=s&&s.src?new URL(s.src):null,qs=src?new URLSearchParams(src.search):new URLSearchParams,params={url:qs.get("u")||S.url,title:qs.get("t")||D.title,position:"left"===qs.get("p")?"left":"right",width:+(qs.get("w")||D.width),height:+(qs.get("h")||D.height),maxWidth:+(qs.get("mw")||D.maxWidth),maxHeight:+(qs.get("mh")||D.maxHeight),zIndex:+(qs.get("z")||D.zIndex),launcher:"0"!==qs.get("l"),eager:"1"===qs.get("e")};D=Object.assign({},D,window.__ttcuChatConfig||{},params),S.url=D.url})();window.ttcuChat={open:open,close:close,toggle:toggle,setUrl:setUrl,isOpen:function(){return!!S.open}},document.addEventListener("chat.desktop.clicked",(function(){toggle()}));C.eager&&build(),C.url&&setUrl(C.url)}();
