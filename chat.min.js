!function(){"use strict";var e=window.__ttcuChatConfig||{},t={built:!1,open:!1,url:e.url||"https://example.com/chat"},n={title:e.title||"Web Chat",position:"left"===e.position?"left":"right",width:e.width||360,height:e.height||520,maxWidth:e.maxWidth||420,maxHeight:e.maxHeight||680,zIndex:e.zIndex||2147483647,launcher:!1!==e.launcher,headerHeight:44,cornerRadius:14,gap:16};function a(){var e=""+n.position;return":root{--ttcu-chat-width:"+n.width+"px;--ttcu-chat-height:"+n.height+"px;--ttcu-chat-radius:"+n.cornerRadius+"px;--ttcu-chat-shadow:0 12px 32px rgba(0,0,0,.22);--ttcu-chat-border:1px solid rgba(0,0,0,.08);--ttcu-gap:"+n.gap+"px;--ttcu-header-h:"+n.headerHeight+"px}#ttcuChatLauncher{position:fixed;"+e+":var(--ttcu-gap);bottom:var(--ttcu-gap);width:56px;height:56px;border:0;border-radius:50%;background:#0f6cf2;color:#fff;box-shadow:var(--ttcu-chat-shadow);cursor:pointer;z-index:"+(n.zIndex-1)+";display:flex;align-items:center;justify-content:center;font-size:22px}#ttcuChatPanel{position:fixed;"+e+":var(--ttcu-gap);bottom:calc(var(--ttcu-gap) + 64px);width:var(--ttcu-chat-width);height:var(--ttcu-chat-height);max-width:min(95vw,"+n.maxWidth+"px);max-height:min(80vh,"+n.maxHeight+"px);background:#fff;border:var(--ttcu-chat-border);border-radius:var(--ttcu-chat-radius);box-shadow:var(--ttcu-chat-shadow);overflow:hidden;transform:translateY(16px);opacity:0;pointer-events:none;transition:transform .2s ease,opacity .2s ease;z-index:"+n.zIndex+"}#ttcuChatPanel.open{transform:translateY(0);opacity:1;pointer-events:auto}#ttcuChatHeader{height:var(--ttcu-header-h);display:flex;align-items:center;justify-content:space-between;padding:0 10px 0 12px;border-bottom:1px solid rgba(0,0,0,.06);background:linear-gradient(0deg,#fff,#fafafa);font:600 14px/1.2 system-ui,-apple-system,Segoe UI,Roboto,Arial;color:#1f2937}#ttcuChatHeader .actions{display:flex;gap:4px}#ttcuChatHeader button{width:28px;height:28px;border:0;border-radius:8px;background:transparent;cursor:pointer;font-size:16px;color:#4b5563}#ttcuChatHeader button:hover{background:rgba(15,108,242,.08);color:#0f6cf2}#ttcuChatFrame{width:100%;height:calc(100% - var(--ttcu-header-h));border:0;display:block;background:#fff}@media (max-width:640px){#ttcuChatLauncher{"+e+":max(var(--ttcu-gap),env(safe-area-inset-"+e+"));bottom:max(var(--ttcu-gap),env(safe-area-inset-bottom))}#ttcuChatPanel{"+e+":max(var(--ttcu-gap),env(safe-area-inset-"+e+"));"+("right"===e?"left:max(var(--ttcu-gap),env(safe-area-inset-left));":"right:max(var(--ttcu-gap),env(safe-area-inset-right));")+"width:auto;height:min(75vh,"+n.maxHeight+"px);bottom:calc(max(var(--ttcu-gap),env(safe-area-inset-bottom)) + 64px)}}" }function o(e){return document.getElementById(e)}function i(){if(!o("ttcu-chat-styles")){var e=document.createElement("style");e.id="ttcu-chat-styles",e.textContent=a(),document.head.appendChild(e)}}function r(){if(!t.built){if(i(),n.launcher&&!o("ttcuChatLauncher")){var e=document.createElement("button");e.id="ttcuChatLauncher",e.title="Chat",e.setAttribute("aria-label","Open chat"),e.innerHTML='<svg width="26" height="26" viewBox="0 0 24 24" aria-hidden="true"><path fill="currentColor" d="M20 2H4a2 2 0 0 0-2 2v18l4-4h14a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2Z"/></svg>',e.addEventListener("click",l),document.body.appendChild(e)}if(!o("ttcuChatPanel")){var a=document.createElement("div");a.id="ttcuChatPanel",a.setAttribute("role","dialog"),a.setAttribute("aria-modal","false");var i=document.createElement("div");i.id="ttcuChatHeader",i.innerHTML='<div id="ttcuChatTitle"></div><div class="actions"><button id="ttcuChatMin" title="Minimize" aria-label="Minimize">▾</button><button id="ttcuChatClose" title="Close" aria-label="Close">✕</button></div>';var r=document.createElement("iframe");r.id="ttcuChatFrame",r.src=t.url,a.appendChild(i),a.appendChild(r),document.body.appendChild(a),document.getElementById("ttcuChatTitle").textContent=n.title,o("ttcuChatClose").addEventListener("click",c),o("ttcuChatMin").addEventListener("click",l),document.addEventListener("keydown",(function(e){"Escape"===e.key&&c()}))}t.built=!0}}function d(){r();var e=o("ttcuChatPanel");e&&(e.classList.add("open"),t.open=!0)}function c(){var e=o("ttcuChatPanel");e&&(e.classList.remove("open"),t.open=!1)}function l(){t.built&&t.open?c():d()}function s(e){t.url=e;var n=o("ttcuChatFrame");n&&(n.src=e)}window.ttcuChat={open:d,close:c,toggle:l,setUrl:s,isOpen:function(){return!!t.open}},document.addEventListener("chat.desktop.clicked",(function(){l()})),e.eager&&r(),e.url&&s(e.url)}();
